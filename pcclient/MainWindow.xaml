<CustomWindow:EssentialWindow  
    x:Class="pcclient.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:CustomWindow="clr-namespace:CustomWindow;assembly=CustomWindow"
    AllowsTransparency="True" Background="Transparent"
    Title="MainWindows" Height="700" Width="300"
    xmlns:pcclient="clr-namespace:pcclient"
    >

    <Border BorderBrush="Black" BorderThickness="1" CornerRadius="5" Background="#3BB2EA" x:Name="LayoutRoot">
        <Border BorderBrush="#55FFFF" BorderThickness="1" CornerRadius="5">
            <DockPanel Background="#EFF7FA">
                <!--  LastChildFill="True" -->
                <!-- Title Bar -->
                <Border Height="20" MouseMove="Header_MouseMove" DockPanel.Dock="Top" Background="#169DE1" >
                    <DockPanel>
                        <Border Name="TitleFrame"></Border>
                        <Border Name="WindowButtonsPlaceholder" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,-1,10,0" />
                    </DockPanel>
                </Border>
                <!-- User Head Image -->
                <Border Name="TopFrame" DockPanel.Dock="Top" Background="#169DE1" Padding="10,0,10,10">
                    <StackPanel>
                        <DockPanel LastChildFill="True">
                            <Border BorderBrush="#FFFFFF" BorderThickness="1" Padding="1,1,1,1" DockPanel.Dock="Left">
                                <Image Width="50" x:Name="CurrentUserHeadImage"></Image>
                            </Border>
                            <Border Margin="15,0,0,0">
                                <StackPanel >
                                    <TextBlock Foreground="White" FontSize="12" x:Name="StatusTextBlock">我的人脉库</TextBlock>
                                    <Button x:Name="RefreshButton" Content="refresh" IsDefault="True" Click="RefreshButton_Click"/>
                                    <Image Width="16" Source="assets/refresh_16.png" ></Image>
                                </StackPanel>
                            </Border>
                        </DockPanel>
                        <TextBox x:Name="NewTweetBox" BorderThickness="0" BorderBrush="Black" Margin="0,10,0,10" Height="35" GotFocus="NewTweetBox_GotFocus" LostFocus="NewTweetBox_LostFocus"></TextBox>
                        <StackPanel Orientation="Horizontal">
                            <Button x:Name="AddAttachment" Width="16">
                                <Image Source="assets/paperclip4_black_16.png"/>
                            </Button>
                            <Button x:Name="SendTweet" Content="发送" Click="SendTweet_Click"/>
                            <Button x:Name="CancelTweet" Content="取消" Click="CancelTweet_Click"/>
                        </StackPanel>
                    </StackPanel>
                </Border>
                <!-- Login Control -->
                <Border x:Name="LoginLayoutRoot" CornerRadius="5,5,5,5" BorderBrush="{DynamicResource PrimaryBorderBrush}" BorderThickness="1,1,1,1" Background="{DynamicResource LoginBackgroundBrush}" Width="280" VerticalAlignment="Top">
                    <StackPanel Width="280" VerticalAlignment="Top">
                        <StackPanel Width="280" VerticalAlignment="Top" Margin="0,80,0,60">
                            <Image HorizontalAlignment="Center" VerticalAlignment="Center" Stretch="None" Source="assets/title.png"/>
                        </StackPanel>
                        <ComboBox HorizontalAlignment="Stretch" Margin="20,10,20,0" x:Name="UserNameBox" Width="Auto" IsEditable="True" BorderThickness="1" />
                        <PasswordBox HorizontalAlignment="Stretch" Margin="20,10,20,0" x:Name="PasswordTextBox" Width="Auto" BorderThickness="1" />
                        <CheckBox HorizontalAlignment="Left" Margin="20,30,20,0" x:Name="AutoLoginCheckBox" Width="Auto" IsChecked="False">自动登录</CheckBox>
                        <CheckBox HorizontalAlignment="Left" Margin="20,10,20,0" x:Name="RememberPwdCheckBox" Width="Auto" IsChecked="False">记住密码</CheckBox>
                        <Button Margin="60,30,60,0" x:Name="LoginButton" IsDefault="True" Click="LoginButton_Click" Width="Auto" BorderThickness="1" Content="登录" />
                    </StackPanel>
                </Border>
                <!-- Window Resize Control -->
                <Border Background="#1D9CDF" >
                </Border>
                <!-- Bottom Menu Bar -->
                <Border Name="BottmNavigation" DockPanel.Dock="Bottom" Height="35" Background="#1D9CDF" BorderThickness="0" Visibility="Hidden">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="5" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <!--
                        <Menu Grid.Column="0" Grid.Row="0" Background="#1D9CDF">
                            <MenuItem Width="200">
                                <MenuItem.Header >
                                    <Image Width="26" Source="assets/tx.png"/>
                                </MenuItem.Header>
                                <MenuItem Header="退出" />
                                <MenuItem Header="退出" />
                                <Separator/>
                                <MenuItem Header="退出" />
                                <MenuItem Header="退出" />
                                <MenuItem Header="退出" />
                                <MenuItem Header="退出" />
                                <Separator/>
                                <MenuItem Header="退出" />
                                <MenuItem Header="退出" />
                                <MenuItem Header="退出" />
                                <MenuItem Header="退出" />
                            </MenuItem>
                        </Menu>
                        -->
                        <Image Name="SystemLogo" Grid.Column="0" Grid.Row="0" Width="26" Source="assets/tx.png" MouseDown="SystemLogo_Click">
                            <Image.ContextMenu>
                                <ContextMenu Name="SystemLogoMenu">
                                    <MenuItem>
                                        <MenuItem.Header>
                                            <TextBlock>我的人脉库</TextBlock>
                                        </MenuItem.Header>
                                        <MenuItem.Icon>
                                            <Image Source="assets/Homepage.ico"></Image>
                                        </MenuItem.Icon>
                                    </MenuItem>
                                    <MenuItem>
                                        <MenuItem.Header>
                                            <TextBlock>我的公司</TextBlock>
                                        </MenuItem.Header>
                                        <MenuItem.Icon>
                                            <Image Source="assets/Homepage.ico"></Image>
                                        </MenuItem.Icon>
                                    </MenuItem>
                                    <MenuItem>
                                        <MenuItem.Header>
                                            <TextBlock>身份认证</TextBlock>
                                        </MenuItem.Header>
                                        <MenuItem.Icon>
                                            <Image Source="assets/Homepage.ico"></Image>
                                        </MenuItem.Icon>
                                    </MenuItem>
                                    <Separator/>
                                    <MenuItem>
                                        <MenuItem.Header>
                                            <TextBlock>系统设置</TextBlock>
                                        </MenuItem.Header>
                                        <MenuItem.Icon>
                                            <Image Source="assets/Homepage.ico"></Image>
                                        </MenuItem.Icon>
                                    </MenuItem>
                                    <MenuItem>
                                        <MenuItem.Header>
                                            <TextBlock>帮助</TextBlock>
                                        </MenuItem.Header>
                                        <MenuItem.Icon>
                                            <Image Source="assets/Homepage.ico"></Image>
                                        </MenuItem.Icon>
                                    </MenuItem>
                                    <Separator/>
                                    <MenuItem>
                                        <MenuItem.Header>
                                            <TextBlock>退出</TextBlock>
                                        </MenuItem.Header>
                                        <MenuItem.Icon>
                                            <Image Source="assets/Homepage.ico"></Image>
                                        </MenuItem.Icon>
                                    </MenuItem>
                                </ContextMenu>
                            </Image.ContextMenu>
                        </Image>
                        <Image Grid.Column="1" Grid.Row="0" Width="26" Source="assets/2.png"/>
                        <Image Grid.Column="2" Grid.Row="0" Width="26" Source="assets/3.png"/>
                        <Image Grid.Column="3" Grid.Row="0" Width="26" Source="assets/4.png"/>
                        <DockPanel Grid.Column="4" Grid.Row="0" VerticalAlignment="Bottom">
                            <Thumb DragDelta="Thumb_DragDelta" Cursor="SizeNWSE" Height="5" Opacity="1.0" HorizontalAlignment="Right" DockPanel.Dock="Bottom" Visibility="Visible"/>
                        </DockPanel>
                    </Grid>
                </Border>
                <!-- Main Frame -->
                <Border Name="MainFrame" BorderThickness="0">
                    <Border.Resources>
                        <pcclient:ImageConverter x:Key="ImageConverter"/>
                    </Border.Resources>
                    <Grid>
                        <TabControl TabStripPlacement="Top">
                            <TabItem x:Name="TweetsTab">
                                <TabItem.Header>
                                    <StackPanel>
                                        <Image Source="assets/Tweets.ico" Stretch="None"/>
                                        <!--<TextBlock>微博</TextBlock>  -->
                                    </StackPanel>
                                </TabItem.Header>
                                <TabItem.Content>
                                    <ListBox x:Name="TweetsListBox" BorderThickness="0" HorizontalContentAlignment="Stretch" ItemsSource="{Binding Mode=OneWay}" ScrollViewer.CanContentScroll="False" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Auto">
                                        <ListBox.ItemTemplate>
                                            <DataTemplate>
                                                <Border BorderBrush="#61738B" Margin="0" Padding="0,8,5,8" BorderThickness="0 0 0 1">
                                                <Grid x:Name="grid">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="60" />
                                                        <ColumnDefinition Width="*" />
                                                    </Grid.ColumnDefinitions>
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"/>
                                                    </Grid.RowDefinitions>
                                                    <Border Grid.Row="0" Grid.Column="0" VerticalAlignment="Top" HorizontalAlignment="Center" Width="60" Height="50" Background="#FFF" BorderBrush="White" BorderThickness="0">
                                                        <Image Width="48" Height="48" Source="{Binding Path=User.ImageUrl}"/>
                                                    </Border>
                                                    <Grid Grid.Row="0" Grid.Column="1">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="*" />
                                                            <ColumnDefinition Width="*" />
                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="Auto"/>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="Auto"/>
                                                        </Grid.RowDefinitions>
                                                        <TextBlock Grid.Column="0" Grid.Row="0" Text="{Binding Path=User.ScreenName}" FontSize="12" FontWeight="Bold" Foreground="#3E7DB0"></TextBlock>
                                                        <StackPanel Grid.Column="1" Grid.Row="0"><!-- 右上角的图标按钮，向下的小三角，删除 --></StackPanel>
                                                        <TextBlock Grid.ColumnSpan="2" Grid.Row="1" FontSize="12" Margin="0,8,0,8" Text="{Binding Path=Text}" TextWrapping="Wrap"></TextBlock>
                                                        <StackPanel Grid.Column="0" Grid.Row="2" Orientation="Horizontal" Margin="0">
                                                            <TextBlock FontSize="12" TextWrapping="Wrap" Text="{Binding Path=RelativeTime}" Foreground="#AAAAAA"></TextBlock>
                                                            <TextBlock FontSize="12" TextWrapping="Wrap" Text="{Binding Path=Source}" Foreground="#AAAAAA"></TextBlock>
                                                        </StackPanel>
                                                        <StackPanel Grid.Column="1" Grid.Row="2"><!-- 右下角的那些图标按钮，回复，收藏，评论 --></StackPanel>
                                                    </Grid>
                                                </Grid>
                                                </Border>
                                            </DataTemplate>
                                        </ListBox.ItemTemplate>
                                    </ListBox>
                                </TabItem.Content>
                            </TabItem>
                            <TabItem Header="My Tweets">
                                <TextBlock>我的微博</TextBlock>
                            </TabItem>

                            <TabItem x:Name="FriendsTab">
                                <TabItem.Header>
                                    <StackPanel>
                                        <Image Source="assets/Tweets.ico" Stretch="None"/>
                                        <!--<TextBlock>好友</TextBlock>  -->
                                    </StackPanel>
                                </TabItem.Header>
                                <TabItem.Content>
                                    <!--<TreeView>
                                        <TreeViewItem>
                                            <DataTemplate>
                                                <TreeViewItem.Header> -->
                                                        <TextBlock>好友</TextBlock>
                                       <!--         </TreeViewItem.Header>
                                            </DataTemplate>
                                        </TreeViewItem>
                                    </TreeView> -->
                                </TabItem.Content>
                            </TabItem>
                        </TabControl>
                    </Grid>
                </Border>
            </DockPanel>
        </Border>
    </Border>


</CustomWindow:EssentialWindow >
