<CustomWindow:EssentialWindow  
    x:Class="pcclient.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:CustomWindow="clr-namespace:CustomWindow;assembly=CustomWindow"
    AllowsTransparency="True" Background="Transparent"
    Title="MainWindows" Height="700" Width="300"
    xmlns:wp="clr-namespace:pcclient"
    >

    <Border BorderBrush="Black" BorderThickness="1" CornerRadius="5" Background="#3BB2EA" x:Name="LayoutRoot">
        <Border BorderBrush="#55FFFF" BorderThickness="1" CornerRadius="5">
            <DockPanel Background="#EFF7FA" LastChildFill="True">
                <Border Height="20" MouseMove="Header_MouseMove" DockPanel.Dock="Top" Background="#169DE1" >
                    <DockPanel>
                        <Border Name="TitleFrame"></Border>
                        <Border Name="WindowButtonsPlaceholder" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,-1,10,0" />
                    </DockPanel>
                </Border>
                <Border Name="TopFrame" DockPanel.Dock="Top" Background="#169DE1" Padding="10,0,10,10">
                    <StackPanel>
                        <DockPanel LastChildFill="True">
                            <Border BorderBrush="#FFFFFF" BorderThickness="1" Padding="1,1,1,1" DockPanel.Dock="Left">
                                <Image Width="50">
                                    <Image.Source>
                                        <BitmapImage UriSource="assets/zzz.jpg" />
                                    </Image.Source>
                                </Image>
                            </Border>
                            <Border Margin="15,0,0,0">
                                <StackPanel >
                                <TextBlock Foreground="White" FontSize="12" x:Name="StatusTextBlock">我的人脉库</TextBlock>
                                <Button x:Name="RefreshButton" Content="refresh" IsDefault="True" Click="RefreshButton_Click"/>
                                <Image Width="16" >
                                    <Image.Source>
                                        <BitmapImage UriSource="assets/refresh_16.png" />
                                    </Image.Source>
                                </Image>
                                </StackPanel>
                            </Border>
                        </DockPanel>
                        <TextBox x:Name="NewTweetBox" BorderThickness="1" BorderBrush="Black" Margin="0,10,0,10" GotFocus="NewTweetBox_GotFocus"></TextBox>
                        <StackPanel Orientation="Horizontal">
                            <Button x:Name="AddAttachment" Width="16">
                                <Image Source="assets/paperclip4_black_16.png"/>
                            </Button>
                            <Button x:Name="SendTweet" Content="发送" Click="SendTweet_Click"/>
                            <Button x:Name="CancelTweet" Content="取消" Click="CancelTweet_Click"/>
                        </StackPanel>
                    </StackPanel>
                </Border>
                <Border x:Name="LoginLayoutRoot" CornerRadius="5,5,5,5" BorderBrush="{DynamicResource PrimaryBorderBrush}" BorderThickness="1,1,1,1" Background="{DynamicResource LoginBackgroundBrush}" Width="280">
                    <StackPanel Width="280" VerticalAlignment="Center">
                        <ComboBox HorizontalAlignment="Stretch" Margin="5,0,0,0" x:Name="UserNameBox" Width="Auto" IsEditable="True" />

                        <PasswordBox HorizontalAlignment="Stretch" Margin="5,0,0,0" x:Name="PasswordTextBox" Width="Auto"/>
                        <Button HorizontalAlignment="Stretch" Margin="10,15,10,0" x:Name="LoginButton" Content="Login" IsDefault="True" Click="LoginButton_Click"/>

                    </StackPanel>
                </Border>
                <Thumb DragDelta="Thumb_DragDelta" HorizontalAlignment="Right" DockPanel.Dock="Bottom" Cursor="SizeNWSE" />
                <Border Name="MainFrame" BorderThickness="0">
                    <Border.Resources>
                        <wp:ImageConverter x:Key="ImageConverter"/>
                        <XmlDataProvider x:Key="SampleData" XPath="/result/tList">
                            <x:XData>
                                <result id="twitter" xmlns="">
                                    <userId>294530</userId>
                                    <listType/>
                                    <minTime>1294328193000</minTime>
                                    <maxTime>1294328193000</maxTime>
                                    <count>2</count>
                                    <tList>
                                        <twitter>
                                            <user>
                                                <userId>294530</userId>
                                                <email>hbcjob@126.com</email>
                                                <nickName>霍保冲</nickName>
                                                <sex>1</sex>
                                                <headImgUrl>http://photo.renmaiku.com/295/294530/head/3-head_image.jpg</headImgUrl>
                                                <company/>
                                                <position>工程师</position>
                                            </user>
                                            <tContent>//@霍保冲:ttp://image10.renmaiku.com/face/19.gif http://image10.renmaiku.com/face/36.gif</tContent>
                                            <tPublishTime>2011-01-06 23:36:33.0</tPublishTime>
                                            <tForwardCount>1</tForwardCount>
                                            <tCommentCount>0</tCommentCount>
                                            <clientType>0</clientType>
                                        </twitter>
                                        <twitter>
                                            <user>
                                                <userId>294530</userId>
                                                <email>hbcjob@126.com</email>
                                                <nickName>霍保冲</nickName>
                                                <sex>1</sex>
                                                <headImgUrl>http://photo.renmaiku.com/295/294530/head/3-head_image.jpg</headImgUrl>
                                                <company/>
                                                <position>工程师</position>
                                            </user>
                                            <tContent>http://image10.renmaiku.com/face/3.gif http://image10.renmaiku.com/face/1.gif</tContent>
                                            <tPublishTime>2011-01-07 00:07:56.0</tPublishTime>
                                            <tForwardCount>0</tForwardCount>
                                            <tCommentCount>2</tCommentCount>
                                            <clientType>0</clientType>
                                        </twitter>
                                    </tList>
                                </result>
                            </x:XData>
                        </XmlDataProvider>
                    </Border.Resources>
                    <ListBox x:Name="TweetsListBox" BorderThickness="0" ItemsSource="{Binding Mode=OneWay}" ScrollViewer.CanContentScroll="False" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Auto">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <Grid x:Name="grid" Background="#01FFFFFF">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="70" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition/>
                                        <RowDefinition/>
                                        <RowDefinition/>
                                    </Grid.RowDefinitions>
                                    <Border Grid.RowSpan="3" VerticalAlignment="Top" Grid.Column="0" Width="50" Height="50" Background="#FFF" BorderBrush="White" BorderThickness="1" CornerRadius="2">
                                        <Image Width="48" Height="48" Source="{Binding Path=User.ImageUrl}"/>
                                    </Border>
                                    <TextBlock Grid.Column="1" Grid.Row="0" FontSize="12" Foreground="Red" TextWrapping="Wrap">
                                    <TextBlock.Text>
                                        <Binding Path="User.ScreenName"/>
                                    </TextBlock.Text>
                                    </TextBlock>
                                    <TextBlock Grid.Column="1" Grid.Row="1" FontSize="12" TextWrapping="Wrap">
                                    <TextBlock.Text>
                                        <Binding Path="Text"/>
                                    </TextBlock.Text>
                                    </TextBlock>
                                    <StackPanel Grid.Column="1" Grid.Row="2">
                                        <TextBlock FontSize="12" TextWrapping="Wrap" Text="{Binding Path=Source}">
                                        </TextBlock>
                                    </StackPanel>
                                </Grid>

                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>

                </Border>
            </DockPanel>
        </Border>
    </Border>


</CustomWindow:EssentialWindow >
